{"ast":null,"code":"import { from } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class LabSeqService {\n  constructor() {\n    this.baseUrl = 'http://localhost:8080/labseq';\n  }\n  getLabSeqValue(n) {\n    return from(fetch(`${this.baseUrl}/${n}`).then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.text(); // Read the response as text\n    }).then(data => {\n      const parsedData = +data;\n      const isInfinity = data.trim().toLowerCase() === 'infinity';\n      if (isInfinity) {\n        console.log('Response Body is Infinity');\n        // Handle Infinity case, for example, returning a special value\n        return Number.POSITIVE_INFINITY; // or any other handling you prefer\n      }\n\n      console.log('Response Body:', parsedData);\n      return parsedData;\n    }));\n  }\n  static #_ = this.ɵfac = function LabSeqService_Factory(t) {\n    return new (t || LabSeqService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LabSeqService,\n    factory: LabSeqService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["from","LabSeqService","constructor","baseUrl","getLabSeqValue","n","fetch","then","response","ok","Error","status","text","data","parsedData","isInfinity","trim","toLowerCase","console","log","Number","POSITIVE_INFINITY","_","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\danie\\Desktop\\labseq-calculator\\frontend\\src\\app\\services\\LabSeqService.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable, from } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LabSeqService {\r\n  private baseUrl = 'http://localhost:8080/labseq';\r\n\r\n  constructor() {}\r\n\r\n  getLabSeqValue(n: number): Observable<number> {\r\n    return from(\r\n      fetch(`${this.baseUrl}/${n}`).then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        return response.text(); // Read the response as text\r\n      }).then((data) => {\r\n        const parsedData = +data;\r\n        const isInfinity = data.trim().toLowerCase() === 'infinity';\r\n\r\n        if (isInfinity) {\r\n          console.log('Response Body is Infinity');\r\n          // Handle Infinity case, for example, returning a special value\r\n          return Number.POSITIVE_INFINITY; // or any other handling you prefer\r\n        }\r\n\r\n        console.log('Response Body:', parsedData);\r\n        return parsedData;\r\n      })\r\n    );\r\n  }\r\n}\r\n"],"mappings":"AACA,SAAqBA,IAAI,QAAQ,MAAM;;AAKvC,OAAM,MAAOC,aAAa;EAGxBC,YAAA;IAFQ,KAAAC,OAAO,GAAG,8BAA8B;EAEjC;EAEfC,cAAcA,CAACC,CAAS;IACtB,OAAOL,IAAI,CACTM,KAAK,CAAC,GAAG,IAAI,CAACH,OAAO,IAAIE,CAAC,EAAE,CAAC,CAACE,IAAI,CAAEC,QAAQ,IAAI;MAC9C,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBF,QAAQ,CAACG,MAAM,EAAE,CAAC;;MAE3D,OAAOH,QAAQ,CAACI,IAAI,EAAE,CAAC,CAAC;IAC1B,CAAC,CAAC,CAACL,IAAI,CAAEM,IAAI,IAAI;MACf,MAAMC,UAAU,GAAG,CAACD,IAAI;MACxB,MAAME,UAAU,GAAGF,IAAI,CAACG,IAAI,EAAE,CAACC,WAAW,EAAE,KAAK,UAAU;MAE3D,IAAIF,UAAU,EAAE;QACdG,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;QACxC;QACA,OAAOC,MAAM,CAACC,iBAAiB,CAAC,CAAC;;;MAGnCH,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEL,UAAU,CAAC;MACzC,OAAOA,UAAU;IACnB,CAAC,CAAC,CACH;EACH;EAAC,QAAAQ,CAAA,G;qBA1BUrB,aAAa;EAAA;EAAA,QAAAsB,EAAA,G;WAAbtB,aAAa;IAAAuB,OAAA,EAAbvB,aAAa,CAAAwB,IAAA;IAAAC,UAAA,EAFZ;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}